---
ms.openlocfilehash: faba66fd211251cabf9efd984bb907f35d419ce4
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 02/05/2022
ms.locfileid: "138050278"
---
# <a name="open"></a>Abrir

> Abrir coisas como URLs, arquivos e executáveis. Multiplataforma.

Essa opção deve ser usada em ferramentas de linha de comando e scripts, não no navegador.

Se você precisar dela para o Electron, use [`shell.openPath()`](https://www.electronjs.org/docs/api/shell#shellopenpathpath).

Observação: o [pacote `open`](https://github.com/pwnall/node-open) original foi substituído por este pacote e obtivemos o nome, portanto, este pacote agora se chama `open` e não `opn`. Se você estiver atualizando do pacote original `open` (`open@0.0.5` ou inferior), saiba que a API é diferente.

#### <a name="why"></a>Por quê?

- Mantido ativamente.
- Dá suporte a argumentos de aplicativo.
- Mais seguro, pois usa `spawn` em vez de `exec`.
- Corrige a maioria dos problemas abertos originais do `node-open`.
- Inclui o [script `xdg-open`](https://cgit.freedesktop.org/xdg/xdg-utils/commit/?id=c55122295c2a480fa721a9614f0e2d42b2949c18) mais recente para Linux.
- Dá suporte a caminhos WSL para aplicativos do Windows.

## <a name="install"></a>Instalar

```
$ npm install open
```

## <a name="usage"></a>Uso

```js
const open = require('open');

(async () => {
    // Opens the image in the default image viewer and waits for the opened app to quit.
    await open('unicorn.png', {wait: true});
    console.log('The image viewer app quit');

    // Opens the URL in the default browser.
    await open('https://sindresorhus.com');

    // Opens the URL in a specified browser.
    await open('https://sindresorhus.com', {app: 'firefox'});

    // Specify app arguments.
    await open('https://sindresorhus.com', {app: ['google chrome', '--incognito']});
})();
```

## <a name="api"></a>API

Usa o comando `open` no macOS, `start` no Windows e `xdg-open` em outras plataformas.

### <a name="opentarget-options"></a>open(target, options?)

Retorna uma promessa para o [processo filho gerado](https://nodejs.org/api/child_process.html#child_process_class_childprocess). Normalmente, você não precisaria usar essa opção para nada, mas ela pode ser útil para anexar ouvintes de eventos personalizados ou executar outras operações diretamente no processo gerado.

#### <a name="target"></a>destino

Digite: `string`

A coisa que você quer abrir. Pode ser uma URL, um arquivo ou um executável.

Abre o item no aplicativo padrão para o tipo de arquivo. Por exemplo, as URLs são aberta no navegador padrão.

#### <a name="options"></a>opções

Digite: `object`

##### <a name="wait"></a>wait

Tipo: `boolean`\
Padrão: `false`

Aguarde até que o aplicativo aberto seja encerrado para cumprir a promessa. Se `false`, ela é cumprida imediatamente quando o aplicativo é aberto.

Observe que ele aguarda o encerramento do aplicativo, não apenas o fechamento da janela.

No Windows, você precisa especificar um aplicativo explicitamente para que ele possa esperar.

##### <a name="background-supmacos-onlysup"></a>background <sup>(somente macOS)</sup>

Tipo: `boolean`\
Padrão: `false`

Não coloque o aplicativo em primeiro plano.

##### <a name="app"></a>app

Digite: `string | string[]`

Especifique o aplicativo com o qual `target` deve ser aberto ou uma matriz com o aplicativo e os argumentos do aplicativo.

O nome do aplicativo é dependente da plataforma. Não o embuta em código em módulos reutilizáveis. Por exemplo, o Chrome é `google chrome` no macOS, `google-chrome` no Linux e `chrome` no Windows.

Você também pode passar o caminho completo do aplicativo. Por exemplo, no WSL, pode ser `/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe` para a instalação do Chrome no Windows.

##### <a name="url"></a>url

Tipo: `boolean`\
Padrão: `false`

Usa `URL` para codificar o destino antes de executá-lo.<br>
Não recomendamos usá-lo em destinos que não sejam URLs.

É útil principalmente ao lidar com a restrição de [aspas duplas no Windows](#double-quotes-on-windows).

##### <a name="allownonzeroexitcode"></a>allowNonzeroExitCode

Tipo: `boolean`\
Padrão: `false`

Permitir que o aplicativo aberto seja encerrado com o código de saída sem zero quando a opção `wait` for `true`.

Não recomendamos a configuração dessa opção. A convenção para o sucesso é o código de saída zero.

## <a name="caveats"></a>Advertências

### <a name="double-quotes-on-windows"></a>Aspas duplas no Windows

TL;DR: todas as aspas duplas são removidas de `target` e não chegam ao destino desejado (no Windows).

Devido a comportamentos específicos do prompt de comando do Window (`cmd.exe`) em relação a comandos e URLs de quebra de caracteres E comercial (`&`), agora as aspas duplas são um caso especial.

A solução ([nº 146](https://github.com/sindresorhus/open/pull/146)) para esse e outros problemas foi aproveitar o fato de que `cmd.exe` interpreta um argumento de aspas duplas como um argumento de texto simples apenas colocando-o entre aspas (como o Node.js já faz). Infelizmente, `cmd.exe` só pode fazer **uma** das duas coisas: lidar com todas elas **ou** não lidar com nenhuma delas. De acordo com a própria documentação:

>*Se /C ou /K for especificado, o restante da linha de comando após a opção será processado como uma linha de comando, em que a seguinte lógica será usada para processar caracteres de aspas ("):*
>
>    1.  *Se todas as seguintes condições forem atendidas, os caracteres de aspas na linha de comando serão preservados:*
>        - *ausência da opção /S*
>        - *exatamente dois caracteres de aspas*
>        - *ausência de caracteres especiais entre os dois caracteres de aspas, em que especial pode ser: &<>()@^|*
>        - *presença de um ou mais caracteres de espaço em branco entre os dois caracteres de aspas*
>        - *a cadeia de caracteres entre os dois caracteres de aspas é o nome de um arquivo executável.*
>
>    2.  *Caso contrário, o comportamento antigo será ver se o primeiro caractere é um caractere de aspas e, se for, eliminar o caractere inicial e remover o último caractere de aspas na linha de comando, preservando todo o texto após o último caractere de aspas.*

A opção que resolveu todos os problemas foi a segunda, e para aumentar a consistência de comportamento, também estamos usando a opção `/S`, para obter **sempre** a segunda opção. A restrição é que esse tratamento interno de aspas duplas acaba retirando todas elas da linha de comando e até agora não conseguimos encontrar um método de escape que funcione (se você conseguir, fique à vontade para contribuir!).

Para que essa restrição seja um pouco menos impactante (pelo menos em URLs), confira a [opção url](#url). As aspas duplas serão "preservadas" quando usadas com uma URL.

## <a name="related"></a>Relacionados

- [open-cli](https://github.com/sindresorhus/open-cli) – CLI para este módulo
- [open-editor](https://github.com/sindresorhus/open-editor) – Abrir arquivos no editor em uma linha e uma coluna específicas

---

<div align="center">
    <b>
        <a href="https://tidelift.com/subscription/pkg/npm-opn?utm_source=npm-opn&utm_medium=referral&utm_campaign=readme">Obtenha suporte profissional para este pacote com uma assinatura da Tidelift</a>
    </b>
    <br>
    <sub> A Tidelift ajuda a fazer com que o código aberto seja sustentável para os mantenedores e ainda oferece às empresas<br>garantias sobre segurança, manutenção e licenciamento para as respectivas dependências.
    </sub>
</div>
