---
ms.openlocfilehash: 10d69c50139d95dc37feaab872c5c2848fd3b089
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 02/05/2022
ms.locfileid: "138050263"
---
# <a name="buffer-travistravis-imagetravis-url-npmnpm-imagenpm-url-downloadsdownloads-imagedownloads-url-javascript-style-guidestandard-imagestandard-url"></a>buffer [![travis][travis-image]][travis-url] [![npm][npm-image]][npm-url] [![downloads][downloads-image]][downloads-url] [![guia de estilo do javascript][standard-image]][standard-url]

[travis-image]: https://img.shields.io/travis/feross/buffer/master.svg
[travis-url]: https://travis-ci.org/feross/buffer
[npm-image]: https://img.shields.io/npm/v/buffer.svg
[npm-url]: https://npmjs.org/package/buffer
[downloads-image]: https://img.shields.io/npm/dm/buffer.svg
[downloads-url]: https://npmjs.org/package/buffer
[standard-image]: https://img.shields.io/badge/code_style-standard-brightgreen.svg
[standard-url]: https://standardjs.com

#### <a name="the-buffer-module-from-nodejs-for-the-browser"></a>O módulo de buffer do [Node.js](https://nodejs.org/), para o navegador.

[![saucelabs][saucelabs-image]][saucelabs-url]

[saucelabs-image]: https://saucelabs.com/browser-matrix/buffer.svg
[saucelabs-url]: https://saucelabs.com/u/buffer

Com o [Browserify](http://browserify.org), basta executar `require('buffer')` ou usar o `Buffer` global para obter este módulo.

A meta é fornecer uma API 100% idêntica à [API de Buffer do Node](https://nodejs.org/api/buffer.html). Leia a [documentação oficial](https://nodejs.org/api/buffer.html) para obter a lista completa de propriedades, métodos de instância e métodos de classe com suporte.

## <a name="features"></a>recursos

- Processe dados binários com total autonomia, em todos os navegadores.
- Rapidamente. Apoiado por matrizes tipadas (`Uint8Array`/`ArrayBuffer`, não `Object`)
- Tamanho de pacote extremamente pequeno (**6,75 KB minificado e compactado com gzip**, 51,9 KB com comentários)
- Excelente suporte ao navegador (Chrome, Firefox, Edge, Safari 9 ou superior, IE 11, iOS 9 ou superior, Android etc.)
- Preserva exatamente a API do Node, com uma pequena diferença (veja abaixo)
- A notação de colchete `buf[4]` funciona.
- Não modifica nenhum protótipo do navegador nem coloca nada em `window`
- Pacote de testes abrangente (incluindo todos os testes de buffer do Node.js Core)

## <a name="install"></a>instalar

Para usar este módulo diretamente (sem o Browserify), instale-o:

```bash
npm install buffer
```

Este módulo era chamado de **native-buffer-browserify**, mas use **buffer** de agora em diante.

Se você não usa um empacotador, use o [script autônomo](https://bundle.run/buffer).

## <a name="usage"></a>uso

A API do módulo é idêntica à API `Buffer` do Node. Leia a [documentação oficial](https://nodejs.org/api/buffer.html) para obter a lista completa de propriedades, métodos de instância e métodos de classe com suporte.

Como mencionado acima, execute `require('buffer')` ou use o `Buffer` global com o [Browserify](http://browserify.org) para que este módulo seja incluído automaticamente no pacote. Quase qualquer módulo do npm funcionará no navegador, mesmo que ele suponha que a API `Buffer` do Node esteja disponível.

Para depender deste módulo explicitamente (sem o Browserify), exija-o desta forma:

```js
var Buffer = require('buffer/').Buffer  // note: the trailing slash is important!
```

Para exigir este módulo explicitamente, use `require('buffer/')`, que informa o algoritmo de pesquisa do módulo do Node.js (também usado pelo Browserify) que ele deve usar o **módulo do npm** chamado `buffer` em vez do módulo do **Node.js Core** chamado `buffer`.


## <a name="how-does-it-work"></a>como ele funciona?

O construtor Buffer retorna instâncias de `Uint8Array` cujo protótipo é alterado para `Buffer.prototype`. Além disso, `Buffer` é uma subclasse de `Uint8Array`, portanto, as instâncias retornadas terão todas os métodos `Buffer` do Node e os métodos `Uint8Array`. A notação de colchete funciona conforme o esperado. Ela retorna um único octeto.

O protótipo `Uint8Array` continua sem modificação.


## <a name="tracking-the-latest-node-api"></a>rastreamento da API mais recente do Node

Este módulo rastreia a API de Buffer na última versão (instável) do Node.js. A API de Buffer é considerada **estável** no [índice de estabilidade do Node](https://nodejs.org/docs/latest/api/documentation.html#documentation_stability_index), portanto, é improvável que haja alterações interruptivas.
No entanto, quando/se a API de Buffer for alterada no Node, a API deste módulo será alterada adequadamente.

## <a name="related-packages"></a>pacotes relacionados

- [`buffer-reverse`](https://www.npmjs.com/package/buffer-reverse) – Reverter um buffer
- [`buffer-xor`](https://www.npmjs.com/package/buffer-xor) – Bit a bit ou um buffer
- [`is-buffer`](https://www.npmjs.com/package/is-buffer) – Determinar se um objeto é um Buffer sem incluir o pacote `Buffer` inteiro

## <a name="conversion-packages"></a>pacotes de conversão

### <a name="convert-typed-array-to-buffer"></a>converter uma matriz tipada em buffer

Use [`typedarray-to-buffer`](https://www.npmjs.com/package/typedarray-to-buffer) para converter qualquer tipo de matriz tipada em um `Buffer`. Não executa uma cópia, portanto, é super rápido.

### <a name="convert-buffer-to-typed-array"></a>converter o buffer em uma matriz tipada

`Buffer` é uma subclasse de `Uint8Array` (que é uma matriz tipada). Portanto, não é necessário convertê-lo explicitamente em matriz tipada. Basta usar o buffer como um `Uint8Array`.

### <a name="convert-blob-to-buffer"></a>converter um blob em um buffer

Use [`blob-to-buffer`](https://www.npmjs.com/package/blob-to-buffer) para converter um `Blob` em um `Buffer`.

### <a name="convert-buffer-to-blob"></a>converter um buffer em um blob

Para converter um `Buffer` em um `Blob`, use o construtor `Blob`:

```js
var blob = new Blob([ buffer ])
```

Opcionalmente, especifique um 	tipo MIME:

```js
var blob = new Blob([ buffer ], { type: 'text/html' })
```

### <a name="convert-arraybuffer-to-buffer"></a>converter um arraybuffer em um buffer

Para converter um `ArrayBuffer` em um `Buffer`, use a função `Buffer.from`. Não executa uma cópia, portanto, é super rápido.

```js
var buffer = Buffer.from(arrayBuffer)
```

### <a name="convert-buffer-to-arraybuffer"></a>converter um buffer em um arraybuffer

Para converter um `Buffer` em um `ArrayBuffer`, use a propriedade `.buffer` (que está presente em todos os objetos `Uint8Array`):

```js
var arrayBuffer = buffer.buffer.slice(
  buffer.byteOffset, buffer.byteOffset + buffer.byteLength
)
```

Como alternativa, use o módulo [`to-arraybuffer`](https://www.npmjs.com/package/to-arraybuffer).

## <a name="performance"></a>desempenho

Confira testes de desempenho em `/perf`.

`BrowserBuffer` é o módulo `buffer` do navegador (este repositório). `Uint8Array` é incluído como uma verificação de integridade (como `BrowserBuffer` usa `Uint8Array` nos bastidores, `Uint8Array` sempre será pelo menos um pouco mais rápido). Por fim, `NodeBuffer` é o módulo de buffer do Node.js, que está incluído para comparação.

OBSERVAÇÃO: o desempenho foi aprimorado desde que esses parâmetros de comparação foram obtidos. PRs são bem-vindas para atualizar o README.

### <a name="chrome-38"></a>Chrome 38

| Método | Operations | Precisão | Amostra | Mais rápida |
|:-------|:-----------|:---------|:--------|:-------:|
| BrowserBuffer#bracket-notation | 11.457.464 ops/s | ± 0,86% | 66 | ✓ |
| Uint8Array#bracket-notation | 10.824.332 ops/s | ± 0,74% | 65 | |
| | | | |
| BrowserBuffer#concat | 450.532 ops/s | ± 0,76% | 68 | |
| Uint8Array#concat | 1\.368.911 ops/s | ± 1,50% | 62 | ✓ |
| | | | |
| BrowserBuffer#copy(16000) | 903.001 ops/s | ± 0,96% | 67 | |
| Uint8Array#copy(16000) | 1\.422.441 ops/s | ± 1,04% | 66 | ✓ |
| | | | |
| BrowserBuffer#copy(16) | 11.431.358 ops/s | ± 0,46% | 69 | |
| Uint8Array#copy(16) | 13.944.163 ops/s | ± 1,12% | 68 | ✓ |
| | | | |
| BrowserBuffer#new(16000) | 106.329 ops/s | ± 6,70% | 44 | |
| Uint8Array#new(16000) | 131.001 ops/s | ± 2,85% | 31 | ✓ |
| | | | |
| BrowserBuffer#new(16) | 1\.554.491 ops/s | ± 1,60% | 65 | |
| Uint8Array#new(16) | 6\.623.930 ops/s | ± 1,66% | 65 | ✓ |
| | | | |
| BrowserBuffer#readDoubleBE | 112.830 ops/s | ± 0,51% | 69 | ✓ |
| DataView#getFloat64 | 93.500 ops/s | ± 0,57% | 68 | |
| | | | |
| BrowserBuffer#readFloatBE | 146.678 ops/s | ± 0,95% | 68 | ✓ |
| DataView#getFloat32 | 99.311 ops/s | ± 0,41% | 67 | |
| | | | |
| BrowserBuffer#readUInt32LE | 843.214 ops/s | ± 0,70% | 69 | ✓ |
| DataView#getUint32 | 103.024 ops/s | ± 0,64% | 67 | |
| | | | |
| BrowserBuffer#slice | 1\.013.941 ops/s | ± 0,75% | 67 | |
| Uint8Array#subarray | 1\.903.928 ops/s | ± 0,53% | 67 | ✓ |
| | | | |
| BrowserBuffer#writeFloatBE | 61.387 ops/s | ± 0,90% | 67 | |
| DataView#setFloat32 | 141.249 ops/s | ± 0,40% | 66 | ✓ |


### <a name="firefox-33"></a>Firefox 33

| Método | Operations | Precisão | Amostra | Mais rápida |
|:-------|:-----------|:---------|:--------|:-------:|
| BrowserBuffer#bracket-notation | 20.800.421 ops/s | ± 1,84% | 60 | |
| Uint8Array#bracket-notation | 20.826.235 ops/s | ± 2,02% | 61 | ✓ |
| | | | |
| BrowserBuffer#concat | 153.076 ops/s | ± 2,32% | 61 | |
| Uint8Array#concat | 1\.255.674 ops/s | ± 8,65% | 52 | ✓ |
| | | | |
| BrowserBuffer#copy(16000) | 1\.105.312 ops/s | ± 1,16% | 63 | |
| Uint8Array#copy(16000) | 1\.615.911 ops/s | ± 0,55% | 66 | ✓ |
| | | | |
| BrowserBuffer#copy(16) | 16.357.599 ops/s | ± 0,73% | 68 | |
| Uint8Array#copy(16) | 31.436.281 ops/s | ± 1,05% | 68 | ✓ |
| | | | |
| BrowserBuffer#new(16000) | 52.995 ops/s | ± 6,01% | 35 | |
| Uint8Array#new(16000) | 87.686 ops/s | ± 5,68% | 45 | ✓ |
| | | | |
| BrowserBuffer#new(16) | 252.031 ops/s | ± 1,61% | 66 | |
| Uint8Array#new(16) | 8\.477.026 ops/s | ± 0,49% | 68 | ✓ |
| | | | |
| BrowserBuffer#readDoubleBE | 99.871 ops/s | ± 0,41% | 69 | |
| DataView#getFloat64 | 285.663 ops/s | ± 0,70% | 68 | ✓ |
| | | | |
| BrowserBuffer#readFloatBE | 115.540 ops/s | ± 0,42% | 69 | |
| DataView#getFloat32 | 288.722 ops/s | ± 0,82% | 68 | ✓ |
| | | | |
| BrowserBuffer#readUInt32LE | 633.926 ops/s | ± 1,08% | 67 | ✓ |
| DataView#getUint32 | 294.808 ops/s | ± 0,79% | 64 | |
| | | | |
| BrowserBuffer#slice | 349.425 ops/s | ± 0,46% | 69 | |
| Uint8Array#subarray | 5\.965.819 ops/s | ± 0,60% | 65 | ✓ |
| | | | |
| BrowserBuffer#writeFloatBE | 59.980 ops/s | ± 0,41% | 67 | |
| DataView#setFloat32 | 317.634 ops/s | ± 0,63% | 68 | ✓ |

### <a name="safari-8"></a>Safari 8

| Método | Operations | Precisão | Amostra | Mais rápida |
|:-------|:-----------|:---------|:--------|:-------:|
| BrowserBuffer#bracket-notation | 10.279.729 ops/s | ± 2,25% | 56 | ✓ |
| Uint8Array#bracket-notation | 10.030.767 ops/s | ± 2,23% | 59 | |
| | | | |
| BrowserBuffer#concat | 144.138 ops/s | ± 1,38% | 65 | |
| Uint8Array#concat | 4\.950.764 ops/s | ± 1,70% | 63 | ✓ |
| | | | |
| BrowserBuffer#copy(16000) | 1\.058.548 ops/s | ± 1,51% | 64 | |
| Uint8Array#copy(16000) | 1\.409.666 ops/s | ± 1,17% | 65 | ✓ |
| | | | |
| BrowserBuffer#copy(16) | 6\.282.529 ops/s | ± 1,88% | 58 | |
| Uint8Array#copy(16) | 11.907.128 ops/s | ± 2,87% | 58 | ✓ |
| | | | |
| BrowserBuffer#new(16000) | 101.663 ops/s | ± 3,89% | 57 | |
| Uint8Array#new(16000) | 22.050.818 ops/s | ± 6,51% | 46 | ✓ |
| | | | |
| BrowserBuffer#new(16) | 176.072 ops/s | ± 2,13% | 64 | |
| Uint8Array#new(16) | 24.385.731 ops/s | ± 5,01% | 51 | ✓ |
| | | | |
| BrowserBuffer#readDoubleBE | 41.341 ops/s | ± 1,06% | 67 | |
| DataView#getFloat64 | 322.280 ops/s | ± 0,84% | 68 | ✓ |
| | | | |
| BrowserBuffer#readFloatBE | 46.141 ops/s | ± 1,06% | 65 | |
| DataView#getFloat32 | 337.025 ops/s | ± 0,43% | 69 | ✓ |
| | | | |
| BrowserBuffer#readUInt32LE | 151.551 ops/s | ± 1,02% | 66 | |
| DataView#getUint32 | 308.278 ops/s | ± 0,94% | 67 | ✓ |
| | | | |
| BrowserBuffer#slice | 197.365 ops/s | ± 0,95% | 66 | |
| Uint8Array#subarray | 9\.558.024 ops/s | ± 3,08% | 58 | ✓ |
| | | | |
| BrowserBuffer#writeFloatBE | 17.518 ops/s | ± 1,03% | 63 | |
| DataView#setFloat32 | 319.751 ops/s | ± 0,48% | 68 | ✓ |


### <a name="node-01114"></a>Node 0.11.14

| Método | Operations | Precisão | Amostra | Mais rápida |
|:-------|:-----------|:---------|:--------|:-------:|
| BrowserBuffer#bracket-notation | 10.489.828 ops/s | ± 3,25% | 90 | |
| Uint8Array#bracket-notation | 10.534.884 ops/s | ± 0,81% | 92 | ✓ |
| NodeBuffer#bracket-notation | 10.389.910 ops/s | ± 0,97% | 87 | |
| | | | |
| BrowserBuffer#concat | 487.830 ops/s | ± 2,58% | 88 | |
| Uint8Array#concat | 1\.814.327 ops/s | ± 1,28% | 88 | ✓ |
| NodeBuffer#concat | 1\.636.523 ops/s | ± 1,88% | 73 | |
| | | | |
| BrowserBuffer#copy(16000) | 1\.073.665 ops/s | ± 0,77% | 90 | |
| Uint8Array#copy(16000) | 1\.348.517 ops/s | ± 0,84% | 89 | ✓ |
| NodeBuffer#copy(16000) | 1\.289.533 ops/s | ± 0,82% | 93 | |
| | | | |
| BrowserBuffer#copy(16) | 12.782.706 ops/s | ± 0,74% | 85 | |
| Uint8Array#copy(16) | 14.180.427 ops/s | ± 0,93% | 92 | ✓ |
| NodeBuffer#copy(16) | 11.083.134 ops/s | ± 1,06% | 89 | |
| | | | |
| BrowserBuffer#new(16000) | 141.678 ops/s | ± 3,30% | 67 | |
| Uint8Array#new(16000) | 161.491 ops/s | ± 2,96% | 60 | |
| NodeBuffer#new(16000) | 292.699 ops/s | ± 3,20% | 55 | ✓ |
| | | | |
| BrowserBuffer#new(16) | 1\.655.466 ops/s | ± 2,41% | 82 | |
| Uint8Array#new(16) | 14.399.926 ops/s | ± 0,91% | 94 | ✓ |
| NodeBuffer#new(16) | 3\.894.696 ops/s | ± 0,88% | 92 | |
| | | | |
| BrowserBuffer#readDoubleBE | 109.582 ops/s | ± 0,75% | 93 | ✓ |
| DataView#getFloat64 | 91.235 ops/s | ± 0,81% | 90 | |
| NodeBuffer#readDoubleBE | 88.593 ops/s | ± 0,96% | 81 | |
| | | | |
| BrowserBuffer#readFloatBE | 139.854 ops/s | ± 1,03% | 85 | ✓ |
| DataView#getFloat32 | 98.744 ops/s | ± 0,80% | 89 | |
| NodeBuffer#readFloatBE | 92.769 ops/s | ± 0,94% | 93 | |
| | | | |
| BrowserBuffer#readUInt32LE | 710.861 ops/s | ± 0,82% | 92 | |
| DataView#getUint32 | 117.893 ops/s | ± 0,84% | 91 | |
| NodeBuffer#readUInt32LE | 851.412 ops/s | ± 0,72% | 93 | ✓ |
| | | | |
| BrowserBuffer#slice | 1\.673.877 ops/s | ± 0,73% | 94 | |
| Uint8Array#subarray | 6\.919.243 ops/s | ± 0,67% | 90 | ✓ |
| NodeBuffer#slice | 4\.617.604 ops/s | ± 0,79% | 93 | |
| | | | |
| BrowserBuffer#writeFloatBE | 66.011 ops/s | ± 0,75% | 93 | |
| DataView#setFloat32 | 127.760 ops/s | ± 0,72% | 93 | ✓ |
| NodeBuffer#writeFloatBE | 103.352 ops/s | ± 0,83% | 93 | |

### <a name="iojs-181"></a>iojs 1.8.1

| Método | Operations | Precisão | Amostra | Mais rápida |
|:-------|:-----------|:---------|:--------|:-------:|
| BrowserBuffer#bracket-notation | 10.990.488 ops/s | ± 1,11% | 91 | |
| Uint8Array#bracket-notation | 11.268.757 ops/s | ± 0,65% | 97 | |
| NodeBuffer#bracket-notation | 11.353.260 ops/s | ± 0,83% | 94 | ✓ |
| | | | |
| BrowserBuffer#concat | 378.954 ops/s | ± 0,74% | 94 | |
| Uint8Array#concat | 1\.358.288 ops/s | ± 0,97% | 87 | |
| NodeBuffer#concat | 1\.934.050 ops/s | ± 1,11% | 78 | ✓ |
| | | | |
| BrowserBuffer#copy(16000) | 894.538 ops/s | ± 0,56% | 84 | |
| Uint8Array#copy(16000) | 1\.442.656 ops/s | ± 0,71% | 96 | |
| NodeBuffer#copy(16000) | 1\.457.898 ops/s | ± 0,53% | 92 | ✓ |
| | | | |
| BrowserBuffer#copy(16) | 12.870.457 ops/s | ± 0,67% | 95 | |
| Uint8Array#copy(16) | 16.643.989 ops/s | ± 0,61% | 93 | ✓ |
| NodeBuffer#copy(16) | 14.885.848 ops/s | ± 0,74% | 94 | |
| | | | |
| BrowserBuffer#new(16000) | 109.264 ops/s | ± 4,21% | 63 | |
| Uint8Array#new(16000) | 138.916 ops/s | ± 1,87% | 61 | |
| NodeBuffer#new(16000) | 281.449 ops/s | ± 3,58% | 51 | ✓ |
| | | | |
| BrowserBuffer#new(16) | 1\.362.935 ops/s | ± 0,56% | 99 | |
| Uint8Array#new(16) | 6\.193.090 ops/s | ± 0,64% | 95 | ✓ |
| NodeBuffer#new(16) | 4\.745.425 ops/s | ± 1,56% | 90 | |
| | | | |
| BrowserBuffer#readDoubleBE | 118.127 ops/s | ± 0,59% | 93 | ✓ |
| DataView#getFloat64 | 107.332 ops/s | ± 0,65% | 91 | |
| NodeBuffer#readDoubleBE | 116.274 ops/s | ± 0,94% | 95 | |
| | | | |
| BrowserBuffer#readFloatBE | 150.326 ops/s | ± 0,58% | 95 | ✓ |
| DataView#getFloat32 | 110.541 ops/s | ± 0,57% | 98 | |
| NodeBuffer#readFloatBE | 121.599 ops/s | ± 0,60% | 87 | |
| | | | |
| BrowserBuffer#readUInt32LE | 814.147 ops/s | ± 0,62% | 93 | |
| DataView#getUint32 | 137.592 ops/s | ± 0,64% | 90 | |
| NodeBuffer#readUInt32LE | 931.650 ops/s | ± 0,71% | 96 | ✓ |
| | | | |
| BrowserBuffer#slice | 878.590 ops/s | ± 0,68% | 93 | |
| Uint8Array#subarray | 2\.843.308 ops/s | ± 1,02% | 90 | |
| NodeBuffer#slice | 4\.998.316 ops/s | ± 0,68% | 90 | ✓ |
| | | | |
| BrowserBuffer#writeFloatBE | 65.927 ops/s | ± 0,74% | 93 | |
| DataView#setFloat32 | 139.823 ops/s | ± 0,97% | 89 | ✓ |
| NodeBuffer#writeFloatBE | 135.763 ops/s | ± 0,65% | 96 | |
| | | | |

## <a name="testing-the-project"></a>Teste do produto

Primeiro, instale o projeto:

    npm install

Depois, para executar testes no Node.js, execute:

    npm run test-node

Para fazer testes localmente em um navegador, você pode executar:

    npm run test-browser-es5-local # For ES5 browsers that don't support ES6
    npm run test-browser-es6-local # For ES6 compliant browsers

Isso imprimirá uma URL que você poderá abrir em um navegador para executar os testes usando o [airtap](https://www.npmjs.com/package/airtap).

Para executar testes automatizados no navegador usando o Saucelabs, verifique se as variáveis de ambiente `SAUCE_USERNAME` e `SAUCE_ACCESS_KEY` estão definidas, depois execute:

    npm test

É isso que o Travis executa, para fazer a verificação em vários navegadores. A lista de navegadores é mantida nos arquivos `bin/airtap-es5.yml` e `bin/airtap-es6.yml`.

## <a name="javascript-standard-style"></a>JavaScript Standard Style

Este módulo usa o [JavaScript Standard Style](https://github.com/feross/standard).

[![Guia de estilo do JavaScript](https://cdn.rawgit.com/feross/standard/master/badge.svg)](https://github.com/feross/standard)

Para testar se o código está em conformidade com o estilo, execute `npm install` e:

    ./node_modules/.bin/standard

## <a name="credit"></a>crédito

Este conteúdo foi bifurcado originalmente de [buffer-browserify](https://github.com/toots/buffer-browserify).

## <a name="security-policies-and-procedures"></a>Políticas e procedimentos de segurança

A equipe e a comunidade do `buffer` levam muito a sério todos os bugs de segurança do `buffer`. Confira a documentação de [políticas e procedimentos de segurança](https://github.com/feross/security) para saber como relatar problemas.

## <a name="license"></a>license

MIT. Direitos autorais (C) [Feross Aboukhadijeh](http://feross.org) e outros colaboradores. Este conteúdo foi bifurcado originalmente de um módulo com a licença MIT por Romain Beauxis.
