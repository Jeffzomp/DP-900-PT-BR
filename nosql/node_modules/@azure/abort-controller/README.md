---
ms.openlocfilehash: fe1a29595719e88783616e54c070b9b946052910
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 02/05/2022
ms.locfileid: "138050362"
---
# <a name="azure-abort-controller-library-for-javascript"></a>Biblioteca do controlador de anulação do Azure para JavaScript

O pacote `@azure/abort-controller` fornece as classes `AbortController` e `AbortSignal`. Essas classes são compatíveis com o [AbortController](https://developer.mozilla.org/docs/Web/API/AbortController) integrado a navegadores modernos e o `AbortSignal` usado por [fetch](https://developer.mozilla.org/docs/Web/API/Fetch_API).
Use a classe `AbortController` para criar uma instância da classe `AbortSignal` que possa ser usada para cancelar uma operação em um SDK do Azure que aceite um parâmetro do tipo `AbortSignalLike`.

## <a name="getting-started"></a>Introdução

### <a name="installation"></a>Instalação

Instale essa biblioteca usando o npm da seguinte maneira

```
npm install @azure/abort-controller
```

## <a name="key-concepts"></a>Conceitos Principais

Use `AbortController` para criar um `AbortSignal` que possa ser passado às operações do SDK do Azure para cancelar o trabalho pendente. O `AbortSignal` pode ser acessado por meio da propriedade `signal` em uma instância criada de `AbortController`.
Um `AbortSignal` também pode ser retornado diretamente de um método estático, por exemplo, `AbortController.timeout(100)`.
que é cancelado após 100 milissegundos.

Chamar `abort()` na instância criada de `AbortController` invoca os ouvintes de eventos `abort`registrados no `AbortSignal` associado.
As próximas chamadas para `abort()` no mesmo controlador não terão efeito.

A propriedade estática `AbortSignal.none` retorna um `AbortSignal` que não pode ser anulado.

Várias instâncias de um `AbortSignal` podem ser vinculadas para que a chamada a `abort()` no sinal pai anule todos os sinais vinculados.
Essa vinculação é unidirecional, o que significa que um sinal pai pode afetar um sinal vinculado, mas não o contrário.
Para vincular `AbortSignals` juntos, passe os sinais pai ao construtor `AbortController`.

## <a name="examples"></a>Exemplos

Os exemplos abaixo pressupõem que `doAsyncWork` seja uma função que usa um conjunto de propriedades, e uma delas é o sinal de anulação.

### <a name="example-1---basic-usage"></a>Exemplo 1 – Uso básico

```js
import { AbortController } from "@azure/abort-controller";

const controller = new AbortController();
doAsyncWork({ abortSignal: controller.signal });

// at some point later
controller.abort();
```

### <a name="example-2---aborting-with-timeout"></a>Exemplo 2 – Anular com tempo limite

```js
import { AbortController } from "@azure/abort-controller";

const signal = AbortController.timeout(1000);
doAsyncWork({ abortSignal: signal });
```

### <a name="example-3---aborting-sub-tasks"></a>Exemplo 3 – Anular subtarefas

```js
import { AbortController } from "@azure/abort-controller";

const allTasksController = new AbortController();

const subTask1 = new AbortController(allTasksController.signal);
const subtask2 = new AbortController(allTasksController.signal);

allTasksController.abort(); // aborts allTasksSignal, subTask1, subTask2
subTask1.abort(); // aborts only subTask1
```

### <a name="example-4---aborting-with-parent-signal-or-timeout"></a>Exemplo 4 – Anular com sinal pai ou tempo limite

```js
import { AbortController } from "@azure/abort-controller";

const allTasksController = new AbortController();

// create a subtask controller that can be aborted manually,
// or when either the parent task aborts or the timeout is reached.
const subTask = new AbortController(allTasksController.signal, AbortController.timeout(100));

allTasksController.abort(); // aborts allTasksSignal, subTask
subTask.abort(); // aborts only subTask
```

## <a name="contributing"></a>Contribuição

Se você quiser contribuir com essa biblioteca, leia o [guia de contribuição](https://github.com/Azure/azure-sdk-for-js/blob/master/CONTRIBUTING.md) para saber como criar e testar o código.

![Impressões](https://azure-sdk-impressions.azurewebsites.net/api/impressions/azure-sdk-for-js%2Fsdk%2Fcore%2Fabort-controller%2FREADME.png)
