---
ms.openlocfilehash: 5f4ff1937c647160a418ca9c807267dc22e5e09f
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 02/05/2022
ms.locfileid: "138050368"
---
OBSERVAÇÃO: o branch padrão foi renomeado.
mestre agora é principal

Se você tiver um clone local, poderá atualizá-lo executando:

```shell
git branch -m master main
git fetch origin
git branch -u origin/main main
```

# <a name="node-addon-api-module"></a>**Módulo node-addon-api**
Este módulo contém **classes de wrapper C++ somente de cabeçalho** que simplificam o uso da [API do Node](https://nodejs.org/dist/latest/docs/api/n-api.html) baseada em C fornecida pelo Node.js ao usar C++. Ele fornece um modelo de objeto C++ e a semântica de tratamento de exceção com baixa sobrecarga.

Há três opções para implementar complementos: Node-API, NAN ou uso direto de bibliotecas internas V8, libuv e Node.js. A menos que haja necessidade de acesso direto a um funcionalidade não seja pela Node-API, conforme descrito em [complementos C/C++](https://nodejs.org/dist/latest/docs/api/addons.html) no Node.js core, use a Node-API. Confira os [complementos C/C++ com a Node-API](https://nodejs.org/dist/latest/docs/api/n-api.html) para obter mais informações sobre a Node-API.

A Node-API é uma interface C estável do ABI fornecida pelo Node.js para a criação de complementos nativos. Ela é independente do runtime JavaScript subjacente (por exemplo, V8 ou ChakraCore) e é mantida dentro do próprio Node.js. Ela se destina a isolar os complementos nativos das alterações no mecanismo JavaScript subjacente e permitir que os módulos compilados para uma versão sejam executados em versões posteriores do Node.js sem recompilação.

O módulo `node-addon-api`, que não faz parte do Node.js, preserva os benefícios da Node-API, pois consiste apenas no código embutido que depende somente da API estável fornecida pela Node-API. Dessa forma, os módulos criados em uma versão do Node.js usando node-addon-api devem ser executados sem precisar ser recompilados com versões mais recentes do Node.js.

É importante lembrar que *outras* interfaces do Node.js como `libuv` (incluídas em um projeto por meio de `#include <uv.h>`) não são estáveis nas versões principais do Node.js. Portanto, um complemento precisa usar a Node-API e/ou `node-addon-api` exclusivamente e ser compilado em uma versão do Node.js que inclua uma implementação da Node-API (ou seja, uma versão LTS ativa do Node.js) para se beneficiar da estabilidade do ABI nas versões principais do Node.js. O Node.js fornece um [guia de estabilidade do ABI][] que contém uma explicação detalhada da estabilidade do ABI em geral e a garantia de estabilidade do ABI da Node-API especificamente.

À medida que novas APIs são adicionadas à Node-API, o node-addon-api precisa ser atualizado para fornecer wrappers para essas novas APIs. Por esse motivo, o node-addon-api fornece métodos que permitem que os chamadores obtenham os identificadores da Node-API subjacentes para que as chamadas diretas à Node-API e o uso dos objetos/métodos fornecidos por node-addon-api possam ser usados juntos. Por exemplo, para poder usar uma API para a qual o node-addon-api ainda não oferece um wrapper.

As APIs expostas por node-addon-api geralmente são usadas para criar e manipular valores JavaScript. Os conceitos e as operações geralmente são mapeados para ideias especificadas na **Especificação de linguagem ECMA262**.

O [Resourceoffers da Node-API](https://nodejs.github.io/node-addon-examples/)  é uma excelente orientação com dicas para desenvolvedores que estão começando a usar a Node-API e o node-addon-api.

- **[Instalação](#setup)**
- **[Documentação da API](#api)**
- **[Exemplos](#examples)**
- **[Testes](#tests)**
- **[Mais recursos e informações sobre complementos nativos](#resources)**
- **[Selos](#badges)**
- **[Código de conduta](CODE_OF_CONDUCT.md)**
- **[Colaboradores](#contributors)**
- **[Licença](#license)**

## <a name="current-version-321"></a>**Versão atual: 3.2.1**

(Confira o [CHANGELOG.md](CHANGELOG.md) para obter o log de alterações completo)

[![NPM](https://nodei.co/npm/node-addon-api.png?downloads=true&downloadRank=true)](https://nodei.co/npm/node-addon-api/) [![NPM](https://nodei.co/npm-dl/node-addon-api.png?months=6&height=1)](https://nodei.co/npm/node-addon-api/)

<a name="setup"></a>

O node-addon-api é baseado na [Node-API](https://nodejs.org/api/n-api.html) e dá suporte ao uso de diferentes versões da Node-API.
Assim, os complementos criados com ele podem ser executados com as versões do Node.js que dão suporte à versão da Node-API de destino.
**No entanto**, o modelo de suporte do node-addon-api é dar suporte apenas às versões LTS ativas do Node.js. Isso significa que a cada ano haverá uma nova versão principal que removerá o suporte à versão LTS do Node.js que saiu de serviço.

A versão mais antiga do Node.js compatível com a versão atual do node-addon-api é o Node.js 10.x.

## <a name="setup"></a>Instalação
  - [Instalação e uso](doc/setup.md)
  - [node-gyp](doc/node-gyp.md)
  - [cmake-js](doc/cmake-js.md)
  - [Ferramenta de conversão](doc/conversion-tool.md)
  - [Ferramenta de verificação](doc/checker-tool.md)
  - [Gerador](doc/generator.md)
  - [Ferramentas de prebuild](doc/prebuild_tools.md)

<a name="api"></a>

### <a name="api-documentation"></a>**Documentação da API**

Veja a seguir a documentação do node-addon-api.

 - [Hierarquia de classe completa](doc/hierarchy.md)
 - [Estrutura de complemento](doc/addon.md)
 - Tipos de dados:
    - [Env](doc/env.md)
    - [CallbackInfo](doc/callbackinfo.md)
    - [Referência](doc/reference.md)
    - [Valor](doc/value.md)
        - [Nome](doc/name.md)
            - [Símbolo](doc/symbol.md)
            - [Cadeia de caracteres](doc/string.md)
        - [Número](doc/number.md)
        - [Data](doc/date.md)
        - [BigInt](doc/bigint.md)
        - [Booliano](doc/boolean.md)
        - [Externo](doc/external.md)
        - [Objeto](doc/object.md)
            - [Matriz](doc/array.md)
            - [ObjectReference](doc/object_reference.md)
    - [PropertyDescriptor](doc/property_descriptor.md)
    - [Função](doc/function.md)
        - [FunctionReference](doc/function_reference.md)
    - [ObjectWrap](doc/object_wrap.md)
        - [ClassPropertyDescriptor](doc/class_property_descriptor.md)
    - [Buffer](doc/buffer.md)
    - [ArrayBuffer](doc/array_buffer.md)
    - [TypedArray](doc/typed_array.md)
      - [TypedArrayOf](doc/typed_array_of.md)
    - [DataView](doc/dataview.md)
 - [Tratamento de erro](doc/error_handling.md)
    - [Erro](doc/error.md)
      - [TypeError](doc/type_error.md)
      - [RangeError](doc/range_error.md)
 - [Gerenciamento de tempo de vida de objeto](doc/object_lifetime_management.md)
    - [HandleScope](doc/handle_scope.md)
    - [EscapableHandleScope](doc/escapable_handle_scope.md)
 - [Gerenciamento de memória](doc/memory_management.md)
 - [Operações assíncronas](doc/async_operations.md)
    - [AsyncWorker](doc/async_worker.md)
    - [AsyncContext](doc/async_context.md)
    - [Variantes do AsyncWorker](doc/async_worker_variants.md)
 - [Funções thread-safe](doc/threadsafe.md)
    - [ThreadSafeFunction](doc/threadsafe_function.md)
    - [TypedThreadSafeFunction](doc/typed_threadsafe_function.md)
 - [Promises](doc/promises.md)
 - [Gerenciamento de versão](doc/version_management.md)

<a name="examples"></a>

### <a name="examples"></a>**Exemplos**

Você é novo no **node-addon-api**? Dê uma olhada em nossos **[exemplos](https://github.com/nodejs/node-addon-examples)**

- **[Olá, Mundo](https://github.com/nodejs/node-addon-examples/tree/HEAD/1_hello_world/node-addon-api)**
- **[Passar argumentos a uma função](https://github.com/nodejs/node-addon-examples/tree/HEAD/2_function_arguments/node-addon-api)**
- **[Retornos de chamada](https://github.com/nodejs/node-addon-examples/tree/HEAD/3_callbacks/node-addon-api)**
- **[Alocador de objeto](https://github.com/nodejs/node-addon-examples/tree/HEAD/4_object_factory/node-addon-api)**
- **[Alocador de função](https://github.com/nodejs/node-addon-examples/tree/HEAD/5_function_factory/node-addon-api)**
- **[Encapsulamento de objeto C++](https://github.com/nodejs/node-addon-examples/tree/HEAD/6_object_wrap/node-addon-api)**
- **[Alocador de objeto encapsulado](https://github.com/nodejs/node-addon-examples/tree/HEAD/7_factory_wrap/node-addon-api)**
- **[Passagem de objeto encapsulado](https://github.com/nodejs/node-addon-examples/tree/HEAD/8_passing_wrapped/node-addon-api)**

<a name="tests"></a>

### <a name="tests"></a>**Testes**

Para executar testes do  **node-addon-api**, execute:

```
npm install
npm test
```

Para evitar testar as partes preteridas da API, execute
```
npm install
npm test --disable-deprecated
```

Para executar os testes direcionados a uma versão específica da Node-API, execute
```
npm install
export NAPI_VERSION=X
npm test --NAPI_VERSION=X
```

em que X é a versão de destino da Node-API.

### <a name="debug"></a>**Depurar**

Para executar testes do  **node-addon-api** com a opção `--debug`:

```
npm run-script dev
```

Se você quiser um build mais rápido, use a seguinte opção:

```
npm run-script dev:incremental
```

Dê uma olhada no nosso **[conjunto de testes](https://github.com/nodejs/node-addon-api/tree/HEAD/test)** e inspire-se nele

### <a name="benchmarks"></a>**Parâmetros de comparação**

Você pode executar os parâmetros de comparação disponíveis usando o seguinte comando:

```
npm run-script benchmark
```

Confira [parâmetro de comparação/README.md](benchmark/README.md) para obter mais detalhes de como executar e adicionar parâmetros de comparação.

<a name="resources"></a>

### <a name="more-resource-and-info-about-native-addons"></a>**Mais recursos e informações sobre complementos nativos**
- **[Complementos C++](https://nodejs.org/dist/latest/docs/api/addons.html)**
- **[Node-API](https://nodejs.org/dist/latest/docs/api/n-api.html)**
- **[Node-API – API do Node de última geração para módulos nativos](https://youtu.be/-Oniup60Afs)**
- **[Como migramos o realm JavaScript do NAN para a Node-API](https://developer.mongodb.com/article/realm-javascript-nan-to-n-api)**

Como a missão principal do node-addon-api é expor aNode-API C sem formatação como wrappers C++, ferramentas que facilitam o n-api/node-addon-api fornecendo padrões mais convenientes no desenvolvimento de um complementos do Node.js com o n-api/node-addon-api podem ser publicadas no NPM como pacotes autônomos. Também é recomendável marcar esses pacotes com `node-addon-api` para dar mais visibilidade à comunidade.

Links rápidos para pesquisas do NPM: [keywords:node-addon-api](https://www.npmjs.com/search?q=keywords%3Anode-addon-api).

<a name="other-bindings"></a>

### <a name="other-bindings"></a>**Outras associações**

- **[napi-rs](https://napi.rs)** – (`Rust`)

<a name="badges"></a>

### <a name="badges"></a>**Selos**

O uso de selos é recomendado para indicar a versão mínima da Node-API necessária para o módulo. Isso ajuda a determinar quais versões principais do Node.js contam com suporte. Os mantenedores de complemento podem consultar a [matriz de suporte da Node-API][] para determinar quais versões do Node.js fornecem uma determinada versão da Node-API. Os seguintes selos estão disponíveis:

![Selo da Node-API v1](https://github.com/nodejs/abi-stable-node/blob/doc/assets/Node-API%20v1%20Badge.svg)
![Selo da Node-API v2](https://github.com/nodejs/abi-stable-node/blob/doc/assets/Node-API%20v2%20Badge.svg)
![Selo da Node-API v3](https://github.com/nodejs/abi-stable-node/blob/doc/assets/Node-API%20v3%20Badge.svg)
![Selo da Node-API v4](https://github.com/nodejs/abi-stable-node/blob/doc/assets/Node-API%20v4%20Badge.svg)
![Selo da Node-API v5](https://github.com/nodejs/abi-stable-node/blob/doc/assets/Node-API%20v5%20Badge.svg)
![Selo da Node-API v6](https://github.com/nodejs/abi-stable-node/blob/doc/assets/Node-API%20v6%20Badge.svg)
![Selo da Node-API v7](https://github.com/nodejs/abi-stable-node/blob/doc/assets/Node-API%20v7%20Badge.svg)
![Selo da Node-API v8](https://github.com/nodejs/abi-stable-node/blob/doc/assets/Node-API%20v8%20Badge.svg)
![Selo de versão experimental da Node-API](https://github.com/nodejs/abi-stable-node/blob/doc/assets/Node-API%20Experimental%20Version%20Badge.svg)

## <a name="contributing"></a>**Contribuição**

Adoramos contribuições da comunidade para o **node-addon-api**!
Confira [CONTRIBUTING.md](CONTRIBUTING.md) para obter mais detalhes sobre nossa filosofia em relação à extensão deste módulo.

<a name="contributors"></a>

## <a name="team-members"></a>Membros da equipe

### <a name="active"></a>Ativo
| Name                | Link do GitHub                                           |
| ------------------- | ----------------------------------------------------- |
| Anna Henningsen     | [addaleax](https://github.com/addaleax)               |
| Chengzhong Wu       | [legendecas](https://github.com/legendecas)           |
| Gabriel Schulhof    | [gabrielschulhof](https://github.com/gabrielschulhof) |
| Jim Schlight        | [jschlight](https://github.com/jschlight)             |
| Michael Dawson      | [mhdawson](https://github.com/mhdawson)               |
| Kevin Eady          | [KevinEady](https://github.com/KevinEady)
| Nicola Del Gobbo    | [NickNaso](https://github.com/NickNaso)               |

### <a name="emeritus"></a>Emeritus
| Name                | Link do GitHub                                           |
| ------------------- | ----------------------------------------------------- |
| Arunesh Chandra     | [aruneshchandra](https://github.com/aruneshchandra)   |
| Benjamin Byholm     | [kkoopa](https://github.com/kkoopa)                   |
| Jason Ginchereau    | [jasongin](https://github.com/jasongin)               |
| Hitesh Kanwathirtha | [digitalinfinity](https://github.com/digitalinfinity) |
| Sampson Gao         | [sampsongao](https://github.com/sampsongao)           |
| Taylor Woll         | [boingoing](https://github.com/boingoing)             |

<a name="license"></a>

Licenciado com a [MIT](./LICENSE.md)

[Guia de estabilidade do ABI]: https://nodejs.org/en/docs/guides/abi-stability/
[Matriz de suporte da Node-API]: https://nodejs.org/dist/latest/docs/api/n-api.html#n_api_n_api_version_matrix
